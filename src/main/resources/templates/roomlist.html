<!DOCTYPE html>
<html lang="en" xmlns:th="www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>RoomDetails</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/css/help.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="/">Dave's room list</a>
        </div>
        <ul class="nav navbar-nav">
            <li class="active" ><a href="/">Room List</a></li>
            <li><a href="/login">Login</a></li>
        </ul>
    </div>
</nav>


<table>
        <p sec:authorize="hasAuthority('ANONYMOUS')"> Please log in to see private rooms
            <tr th:each="room : ${publicroom}">

                <th>Address:</th>
                <td th:text="${room.roomAddress}"></td>

                <th>City:</th>
                <td th:text="${room.city}"></td>

                <th>State:</th>
                <td th:text="${room.state}"></td>

                <th>Price:</th>
                <td th:text="${room.price}"></td>
                <a th:href="@{/details/{id}(id=${room.id})}">More details</a>
            </tr>
        </p>
        <p sec:authorize="hasAuthority('USER')">Thank you for logging in.
            <tr th:each="room : ${fulllroom}">

                <th>Address:</th>
                <td th:text="${room.roomAddress}"></td>

                <th>City:</th>
                <td th:text="${room.city}"></td>

                <th>State:</th>
                <td th:text="${room.state}"></td>

                <th>Price:</th>
                <td th:text="${room.price}"></td>
                <a th:href="@{/details/{id}(id=${room.id})}">More details</a>
            </tr>
        </p>
        <p sec:authorize="hasAuthority('ADMIN')"> I'm afraid I can't let you do that.

            <a href="/addroom">Add a room listing</a>

            <tr th:each="room : ${fullroom}">

                <th>Address:</th>
                <td th:text="${room.roomAddress}"></td>

                <th>City:</th>
                <td th:text="${room.city}"></td>

                <th>State:</th>
                <td th:text="${room.state}"></td>

                <th>Price:</th>
                <td th:text="${room.price}"></td>
                <a th:href="@{/details/{id}(id=${room.id})}">More details</a>
                <a th:href="@{/edit/{id}(id=${room.id})}">Edit room</a>
            </tr>
                <br/>
        </p>


</table>


</body>
</html>